---
title: 동기/비동기, 블로킹(blocking)/논블로킹
description: ""
date: 2024-04-26 22:23:00 +09:00
categories: [Computer Science, General]
tags: [비동기 처리, 블로킹, 논블로킹]
pin: true
math: true
mermaid: true
---

프로그래밍에서 동기/비동기, 블로킹/논블로킹은 작업을 처리하는 방식을 일컫는 용어이다. 이 두 개념은 겉으로 보기에는 실행 과정이 비슷하게 보여서 비슷한 개념으로 보일 수 있으나 엄연히 차이가 있다.

## **1.동기/비동기**

동기와 비동기는 여러 개의 작업을 순차적으로 실행하느냐 아니냐를 구분하는 개념이다.

#### **(1)동기**

동기 방식은 순차적으로 작업을 실행한다. 한 작업이 완료되기를 기다렸다가 다음 작업을 실행한다. 예를 들어 A, B, C 3가지 작업이 있다고 가정할 때, 동기 방식은 A -> B -> C 순서로 작업을 실행하고 한 작업이 완료되어야 다음 작업으로 넘어간다.
동기 방식은 코드의 실행 흐름이 일방적이고 직관적이라서 예측이 가능하며 디버깅이 쉽다. 그러나 처리해야 할 작업이 많아지면 한 작업이 끝나기를 기다려야 하므로 전체적인 처리 시간이 길어지고 성능 저하가 발생할 수 있다.

#### **(2)비동기**

비동기 방식은 작업을 순차적으로 실행하지 않고 한 작업이 실행되는 동안 다음 작업을 동시에 진행한다. 위의 예시와 동일하게 A, B, C 3가지 작업이 있다면, 비동기 방식은 순서가 정해져 있지 않으므로 A -> C -> B 또는 C -> A -> B 등의 무작위의 순서로 실행된다. 다만 한 작업이 완료될 때까지 대기하지 않고 A, B, C 작업이 동시에 이루어질 수 있다.
비동기 방식은 여러 작업을 동시에 처리할 수 있기 때문에 처리 시간이 단축되고 성능 향상에 도움이 된다. 다만 실행 흐름을 예측하기가 어렵고 순차적으로 처리해야 하는 작업을 실행할 경우 의도치 않은 결과나 에러가 발생할 수 있다. 이를 예방하기 위해 callback, promise 등을 이용한 추가적인 처리가 필요하다.

## **2.블로킹/논블로킹**

블로킹과 논블로킹은 여러 개의 작업이 있을 때 다른 작업을 처리하기 위해 현재 작업을 차단하느냐 안하느냐를 구분하는 개념이다. 동기/비동기는 순차적인 작업의 유무라면, 블로킹/논블로킹은 전체적인 작업의 흐름 자체를 막느냐 안 막느냐로 볼 수 있다.
예를 들어 A, B 두 가지 작업이 있다고 가정했을 때, 동기 방식의 경우 A가 실행되고 완료되면 B 가 실행된다. 반면 블로킹의 경우 A가 먼저 실행되고 중간에 B가 실행되면 B 작업을 처리하기 위해 A 작업이 잠시 중단되고 B 작업이 끝난 후 A 작업이 마무리된다.

비동기와 논블로킹 방식을 혼동하기가 쉽다. 겉으로 볼 때에 실행 과정은 비슷하지만 관점에 따라 비동기 또는 논블로킹으로 부를 수 있다. javascript 에서 사용하는 setTimeout 함수를 예로 들어볼 수 있다.

```js
console.log("시작");

setTimeout(() => {
  console.log("1초 후에 실행됩니다!");
}, 1000);

console.log("끝");
```

이 코드를 실행하면 다음과 같이 출력된다.

```
시작
끝
1초 후에 실행됩니다!
```

출력 순서가 코드 라인과 맞지 않는다. 콘솔에서 setTimeout 함수의 작업 완료 여부를 신경쓰지 않고 작업을 쭉 진행했기 때문이다.
이 결과로 보면 setTimeout 은 비동기 함수로 볼수 있다. 다른 시각으로 본다면, 메인 함수 작업에 대해서 setTimeout 함수는 작업 수행을 위해 메인 함수의 작업을 가로막지(블록) 않았다. 메인 함수를 막지 않았으니 setTimeout 함수는 논블로킹이라고도 할 수 있다.

비동기, 논블로킹 모두 동시에 다른 작업을 수행한다는 점에서 비슷하다. 하지만 의미는 엄연히 다르므로 주의해야 한다.
